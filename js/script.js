(()=>{const s=(r,e,t)=>{let o;return function(){let a=this,n=arguments,p=()=>{o=null,t||r.apply(a,n)},f=t&&!o;clearTimeout(o),o=setTimeout(p,e),f&&r.apply(a,n)}};window.onload=()=>{var r=document.querySelectorAll(".lazy");r.forEach(e=>{var t=new Image;t.src=e.getAttribute("data-src"),t.sizes=e.hasAttribute("data-sizes")?e.getAttribute("data-sizes"):"",t.srcset=e.hasAttribute("data-srcset")?e.getAttribute("data-srcset"):"",t.className=e.getAttribute("class"),t.title=e.getAttribute("title"),t.alt=e.getAttribute("alt"),t.onload=function(){e.src=e.getAttribute("data-src"),e.sizes=e.hasAttribute("data-sizes")?e.getAttribute("data-sizes"):"",e.srcset=e.hasAttribute("data-srcset")?e.getAttribute("data-srcset"):"",e.classList.add("loaded")}})};var i,l=!0,c=!1;for(item of document.querySelectorAll(".search input"))item.addEventListener("keyup",async r=>{try{l&&(await h(),l=!1);const e=r.target;console.log(e.value),m(e.value,e.parentNode)}catch(e){console.error(e)}});function $(r,e){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState===4&&t.status===200){var o=JSON.parse(t.responseText);e&&e(o)}},t.open("GET",r),t.send()}function m(r,e){let t=i.search(r),o="";if(t.length===0)c=!1,o="";else{for(let a in t.slice(0,5))o=o+'<li><a href="'+t[a].item.permalink+'" tabindex="0"><span class="title">'+t[a].item.title+"</span>";c=!0}e.querySelector("ul").innerHTML=o}function h(){return new Promise((r,e)=>$("/index.json",t=>{var o={shouldSort:!0,location:0,distance:100,threshold:.4,minMatchCharLength:2,keys:["title","permalink","summary"]};try{i=new Fuse(t,o),r()}catch(a){e()}}))}const u=document.querySelector("header.header"),d=s(function(){window.scrollY?u.classList.add("scrolled"):u.classList.remove("scrolled")},50);document.addEventListener("scroll",d);d();})();
